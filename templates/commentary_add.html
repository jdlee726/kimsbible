{% extends "layout.html" %}
{% block body %}
    {% autoescape false %}

    <script type="text/javascript" src="/static/editor/js/service/HuskyEZCreator.js" charset="utf-8"></script>
    
    <form name = "commentary_add" method="POST" action="/commentary/add">
        <h1>구절 노트 추가하기</h1>
        구절코드: <input type="text" name="commentary_vcode" class="form-control"><br>
        제목: <input type="text" name="commentary_title" class="form-control"><br>
        <textarea name="commentary_text" id="commentary_text" rows="20" style="width:100%;"></textarea>
        <input type="submit" class="btn btn-default" value="작성" onclick="updatetext()"></button>
    </form>
    
    <script type="text/javascript">
        var oEditors = [];
        nhn.husky.EZCreator.createInIFrame({
         oAppRef: oEditors,
         elPlaceHolder: "commentary_text",
         sSkinURI: "/static/editor/SmartEditor2Skin.html",
         fCreator: "createSEditor2",
         htParams: { fOnBeforeUnload : function(){}} 
        });
        
        // 에디터 내용을 textarea로 옮김
        function updatetext() {
            oEditors[0].exec("UPDATE_CONTENTS_FIELD");
        }
    </script>

    {% endautoescape %}
{% endblock %}
