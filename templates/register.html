{% extends "layout.html" %}
{% block body %}

{% with messages = get_flashed_messages() %}
  {% if messages %}
    <div class="alert alert-danger" role="alert">
      {% for message in messages %}
        <p> {{ message }} </p>
      {% endfor %}
    </div>
  {% endif %}
{% endwith %}


<div class="row">
  <div class="col-md-12">
		<h3 style="text-align:center">회원가입</h3>

    {% if session["logged_in"] == True %}
      <br><p class="bg-success" style="text-align:center; line-height:60px">회원 가입이 완료되었습니다.</p>
    {% else %}
  		<form method=post action="/register/">
  			<h4>
  				{{ form.csrf_token }}
          <table align=center>
            <tr><td height="50">아이디:</td><td>{{ form.username(size=20, class_="form-control") }}</td></tr>
            <tr><td height="50">이메일:</td><td>{{ form.email(size=20, class_="form-control") }}</td></tr>
            <tr><td height="50">비밀번호:</td><td>{{ form.password(size=20, class_="form-control") }}</td></tr>
            <tr><td height="50">비밀번호확인:</td><td>{{ form.confirm(size=20, class_="form-control") }}</td></tr>
          </table>
  			</h4>
  			<p style="text-align:center"><input type=submit class="btn btn-primary" value=등록></p>
  		</form>
    {% endif %}

		{% if error %}
			<p class="error"><strong>Error:</strong>{{ error }}</p>
		{% endif %}
  </div>
</div>

{% endblock %}
